$ sudo apt install samba
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following package was automatically installed and is no longer required:
  libllvm7
Use 'sudo apt autoremove' to remove it.
The following additional packages will be installed:
  attr ibverbs-providers libcephfs2 libibverbs1 libnl-route-3-200 librados2
  python-crypto python-dnspython python-ldb python-samba python-tdb
  samba-common samba-common-bin samba-dsdb-modules samba-vfs-modules tdb-tools
Suggested packages:
  python-crypto-doc python-gpgme bind9 bind9utils ctdb ldb-tools ntp | chrony
  smbldap-tools winbind heimdal-clients
The following NEW packages will be installed:
  attr ibverbs-providers libcephfs2 libibverbs1 libnl-route-3-200 librados2
  python-crypto python-dnspython python-ldb python-samba python-tdb samba
  samba-common samba-common-bin samba-dsdb-modules samba-vfs-modules tdb-tools
0 upgraded, 17 newly installed, 0 to remove and 304 not upgraded.
Need to get 7,799 kB of archives.
After this operation, 47.7 MB of additional disk space will be used.
Do you want to continue? [Y/n] 
Get:1 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 python-dnspython all 1.15.0-1 [84.9 kB]
Get:2 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 python-crypto amd64 2.6.1-8ubuntu2 [244 kB]
Get:3 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 python-ldb amd64 2:1.2.3-1ubuntu0.1 [30.9 kB]
Get:4 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 python-tdb amd64 1.3.15-2 [11.1 kB]
Get:5 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 python-samba amd64 2:4.7.6+dfsg~ubuntu-0ubuntu2.15 [1,926 kB]
Get:6 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 samba-common all 2:4.7.6+dfsg~ubuntu-0ubuntu2.15 [72.2 kB]
Get:7 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 samba-common-bin amd64 2:4.7.6+dfsg~ubuntu-0ubuntu2.15 [520 kB]
Get:8 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 tdb-tools amd64 1.3.15-2 [22.4 kB]
Get:9 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 samba amd64 2:4.7.6+dfsg~ubuntu-0ubuntu2.15 [855 kB]
Get:10 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 attr amd64 1:2.4.47-2build1 [25.8 kB]
Get:11 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 libnl-route-3-200 amd64 3.2.29-0ubuntu3 [146 kB]
Get:12 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libibverbs1 amd64 17.1-1ubuntu0.2 [44.4 kB]
Get:13 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 ibverbs-providers amd64 17.1-1ubuntu0.2 [160 kB]
Get:14 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 librados2 amd64 12.2.12-0ubuntu0.18.04.4 [2,704 kB]
Get:15 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libcephfs2 amd64 12.2.12-0ubuntu0.18.04.4 [411 kB]
Get:16 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 samba-dsdb-modules amd64 2:4.7.6+dfsg~ubuntu-0ubuntu2.15 [245 kB]
Get:17 http://in.archive.ubuntu.com/ubuntu bionic-updates/main amd64 samba-vfs-modules amd64 2:4.7.6+dfsg~ubuntu-0ubuntu2.15 [297 kB]
Fetched 7,799 kB in 1s (8,465 kB/s)         
Preconfiguring packages ...
Selecting previously unselected package python-dnspython.
(Reading database ... 153313 files and directories currently installed.)
Preparing to unpack .../00-python-dnspython_1.15.0-1_all.deb ...
Unpacking python-dnspython (1.15.0-1) ...
Selecting previously unselected package python-crypto.
Preparing to unpack .../01-python-crypto_2.6.1-8ubuntu2_amd64.deb ...
Unpacking python-crypto (2.6.1-8ubuntu2) ...
Selecting previously unselected package python-ldb:amd64.
Preparing to unpack .../02-python-ldb_2%3a1.2.3-1ubuntu0.1_amd64.deb ...
Unpacking python-ldb:amd64 (2:1.2.3-1ubuntu0.1) ...
Selecting previously unselected package python-tdb.
Preparing to unpack .../03-python-tdb_1.3.15-2_amd64.deb ...
Unpacking python-tdb (1.3.15-2) ...
Selecting previously unselected package python-samba.
Preparing to unpack .../04-python-samba_2%3a4.7.6+dfsg~ubuntu-0ubuntu2.15_amd64.deb ...
Unpacking python-samba (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Selecting previously unselected package samba-common.
Preparing to unpack .../05-samba-common_2%3a4.7.6+dfsg~ubuntu-0ubuntu2.15_all.deb ...
Unpacking samba-common (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Selecting previously unselected package samba-common-bin.
Preparing to unpack .../06-samba-common-bin_2%3a4.7.6+dfsg~ubuntu-0ubuntu2.15_amd64.deb ...
Unpacking samba-common-bin (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Selecting previously unselected package tdb-tools.
Preparing to unpack .../07-tdb-tools_1.3.15-2_amd64.deb ...
Unpacking tdb-tools (1.3.15-2) ...
Selecting previously unselected package samba.
Preparing to unpack .../08-samba_2%3a4.7.6+dfsg~ubuntu-0ubuntu2.15_amd64.deb ...
Unpacking samba (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Selecting previously unselected package attr.
Preparing to unpack .../09-attr_1%3a2.4.47-2build1_amd64.deb ...
Unpacking attr (1:2.4.47-2build1) ...
Selecting previously unselected package libnl-route-3-200:amd64.
Preparing to unpack .../10-libnl-route-3-200_3.2.29-0ubuntu3_amd64.deb ...
Unpacking libnl-route-3-200:amd64 (3.2.29-0ubuntu3) ...
Selecting previously unselected package libibverbs1:amd64.
Preparing to unpack .../11-libibverbs1_17.1-1ubuntu0.2_amd64.deb ...
Unpacking libibverbs1:amd64 (17.1-1ubuntu0.2) ...
Selecting previously unselected package ibverbs-providers:amd64.
Preparing to unpack .../12-ibverbs-providers_17.1-1ubuntu0.2_amd64.deb ...
Unpacking ibverbs-providers:amd64 (17.1-1ubuntu0.2) ...
Selecting previously unselected package librados2.
Preparing to unpack .../13-librados2_12.2.12-0ubuntu0.18.04.4_amd64.deb ...
Unpacking librados2 (12.2.12-0ubuntu0.18.04.4) ...
Selecting previously unselected package libcephfs2.
Preparing to unpack .../14-libcephfs2_12.2.12-0ubuntu0.18.04.4_amd64.deb ...
Unpacking libcephfs2 (12.2.12-0ubuntu0.18.04.4) ...
Selecting previously unselected package samba-dsdb-modules.
Preparing to unpack .../15-samba-dsdb-modules_2%3a4.7.6+dfsg~ubuntu-0ubuntu2.15_amd64.deb ...
Unpacking samba-dsdb-modules (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Selecting previously unselected package samba-vfs-modules.
Preparing to unpack .../16-samba-vfs-modules_2%3a4.7.6+dfsg~ubuntu-0ubuntu2.15_amd64.deb ...
Unpacking samba-vfs-modules (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Setting up python-dnspython (1.15.0-1) ...
Processing triggers for ufw (0.35-5) ...
Setting up python-crypto (2.6.1-8ubuntu2) ...
Setting up samba-vfs-modules (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Processing triggers for ureadahead (0.100.0-20) ...
ureadahead will be reprofiled on next reboot
Setting up python-tdb (1.3.15-2) ...
Setting up samba-common (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...

Creating config file /etc/samba/smb.conf with new version
Setting up libnl-route-3-200:amd64 (3.2.29-0ubuntu3) ...
Processing triggers for libc-bin (2.27-3ubuntu1) ...
Processing triggers for systemd (237-3ubuntu10.38) ...
Setting up tdb-tools (1.3.15-2) ...
update-alternatives: using /usr/bin/tdbbackup.tdbtools to provide /usr/bin/tdbbackup (tdbbackup) in auto mode
Processing triggers for man-db (2.8.3-2ubuntu0.1) ...
Setting up samba-dsdb-modules (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Setting up attr (1:2.4.47-2build1) ...
Setting up python-ldb:amd64 (2:1.2.3-1ubuntu0.1) ...
Setting up libibverbs1:amd64 (17.1-1ubuntu0.2) ...
Setting up python-samba (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Setting up librados2 (12.2.12-0ubuntu0.18.04.4) ...
Setting up libcephfs2 (12.2.12-0ubuntu0.18.04.4) ...
Setting up ibverbs-providers:amd64 (17.1-1ubuntu0.2) ...
Setting up samba-common-bin (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Setting up samba (2:4.7.6+dfsg~ubuntu-0ubuntu2.15) ...
Samba is not being run as an AD Domain Controller, masking samba-ad-dc.service.
Please ignore the following error about deb-systemd-helper not finding samba-ad-dc.service.
Created symlink /etc/systemd/system/multi-user.target.wants/nmbd.service → /lib/systemd/system/nmbd.service.
Failed to preset unit: Unit file /etc/systemd/system/samba-ad-dc.service is masked.
/usr/bin/deb-systemd-helper: error: systemctl preset failed on samba-ad-dc.service: No such file or directory
Created symlink /etc/systemd/system/multi-user.target.wants/smbd.service → /lib/systemd/system/smbd.service.
Processing triggers for libc-bin (2.27-3ubuntu1) ...
Processing triggers for systemd (237-3ubuntu10.38) ...
Processing triggers for ureadahead (0.100.0-20) ...
Processing triggers for ufw (0.35-5) ...
